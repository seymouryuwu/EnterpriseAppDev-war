<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

	<h:head>
		<h:outputStylesheet library="css" name="bootstrap.min.css"></h:outputStylesheet>
        <title>Edit Contact</title> 
	</h:head>
	
	<h:body>
		<div class="container">
			<div class="navbar navbar-inverse">
                <div class="navbar-brand">
                    Edit Contact for Customer ID: #{customerController.customer.customerId} Name: #{customerController.customer.customerName}
                </div>
            </div>
            
            <h:form id="MyForm">
            	<table class="table table-bordered ">
            		<tr>
                        <td width ="300" valign="top"><h:outputLabel value="Contact ID" for="Id" /></td>
                        <td valign="bottom">
                            <h:outputLabel id = "Id" 
                            	value = "#{contactController.contact.contactId}">
                            </h:outputLabel>    
                        </td>
                    </tr>
                    
                    <tr>
						<td><h:outputLabel value="Contact Title" for="contactTitle" /></td>
						<td><h:inputText id="contactTitle"
								value="#{contactController.contactDTO.contactTitle}" title="ContactTitle"
								required="true"
								requiredMessage="Please enter the contact title">

							</h:inputText> <br /> 
							<h:message for="contactTitle"
								class="#{!contactTitle.valid ? 'label label-warning' : 'none'}" />
						</td>
					</tr>
					
                    <tr>
						<td><h:outputLabel value="Contact Name" for="contactName" /></td>
						<td><h:inputText id="contactName"
								value="#{contactController.contactDTO.contactName}" title="ContactName"
								required="true"
								requiredMessage="Please enter the contact name">
							</h:inputText> <br /> 
							<h:message for="contactName"
								class="#{!contactName.valid ? 'label label-warning' : 'none'}" />
						</td>
					</tr>

					

					<tr class="#{!contactPhoneNumber.valid ? 'has-error' : 'none'}">
						<td><h:outputLabel value="Contact Phone Number" for="contactPhoneNumber" /></td>
						<td><h:inputText id="contactPhoneNumber"
								value="#{contactController.contactDTO.contactPhoneNumber}" title="contactPhoneNumber"
								required="true"
								requiredMessage="Please enter the contact phone number"
								converterMessage="Please enter a number">
								<f:convertNumber integerOnly="true" />
							</h:inputText> <br /> 
							<h:message for="contactPhoneNumber"
								class="#{!contactPhoneNumber.valid ? 'label label-warning' : 'none'}" />
						</td>
					</tr>

					<tr class="#{!contactEmail.valid ? 'has-error' : 'none'}">
						<td><h:outputLabel value="Contact Email" for="contactEmail" /></td>
						<td><h:inputText id="contactEmail"
								value="#{contactController.contactDTO.contactEmail}" title="contactEmail"
								required="true"
								requiredMessage="Please enter the contact email" > 
							</h:inputText> <br />
							<h:message for="contactEmail"
								class="#{!contactEmail.valid ? 'label label-warning' : 'none'}" />
						</td>
					</tr>
                    
            	</table>
            		<h:commandButton id="submit" value="Save"
						action="#{contactController.updateContact(contactController.contactDTO)}"
						class="btn btn-primary">
						<f:param name="customerId" value="#{customerController.customer.customerId}"/>
						<f:param name="contactId" value="#{contactController.contact.contactId}"/>
					</h:commandButton>
					
					<h:outputText value=" " />
					
					<h:link id="close" value="Close" outcome="/user/edit.xhtml"
						class="btn btn-primary" >
						<f:param name="customerId" value="#{customerController.customer.customerId}"/>
					</h:link>
            </h:form>
		</div>
	</h:body>
</html>